<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Gamelan — Ultra‑Low Latency</title>
  <meta name="description" content="Play a chromatic gamelan (C4→C5) with near-zero latency using WebAudio." />
  <style>
    :root{
      --brand:#0ea5e9; --ink:#0f172a; --muted:#64748b; --bg:#f6f7fb; --card:#ffffff;
      --pad:#e2e8f0; --padActive:#bae6fd;
    }
    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{ margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink); background:var(--bg); }
    header{ background:linear-gradient(90deg, #0369a1, #0ea5e9); color:#fff; padding:18px 16px; }
    header h1{ margin:0; font-size:20px; }
    main{ max-width:1100px; margin:24px auto; padding:0 16px; }
    .bar{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .pill{ background:rgba(255,255,255,.9); color:#0f172a; padding:6px 10px; border-radius:999px; font-size:13px; }
    .grid{ display:grid; grid-template-columns: repeat(13, minmax(56px, 1fr)); gap:10px; margin-top:16px; }
    .pad{
      user-select:none; -webkit-user-select:none; touch-action: manipulation;
      background:var(--pad); border:1px solid #e5e7eb; border-radius:14px; padding:18px 8px;
      text-align:center; cursor:pointer; box-shadow:0 6px 16px rgba(0,0,0,.06);
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px;
      transition: transform .02s ease, background-color .06s ease, box-shadow .06s ease;
    }
    .pad:active, .pad.active{ background:var(--padActive); transform: translateY(1px) scale(0.995); }
    .note{ font-weight:700; }
    .kbd{ font-size:11px; color:var(--muted); background:#fff; border:1px solid #e5e7eb; padding:2px 6px; border-radius:6px;}
    .status{ color:var(--muted); margin-top:10px; min-height:1.2em; }
    .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:10px;}
    button{ padding:8px 12px; border-radius:10px; border:1px solid #e5e7eb; background:#fff; cursor:pointer; }
    button.primary{ background:#0ea5e9; color:#fff; border-color:transparent; }
    footer{ text-align:center; color:var(--muted); padding:24px 0 40px; }
    @media (max-width:900px){ .grid{ grid-template-columns: repeat(7, 1fr);} }
  </style>
</head>
<body>
  <header>
    <h1>Interactive Gamelan — Ultra‑Low Latency</h1>
  </header>

  <main>
    <div class="bar">
      <span class="pill">Chromatic: C4 → C5 (13 notes)</span>
      <span class="pill">Powered by WebAudio (latencyHint: “interactive”)</span>
      <span class="pill">Tap / Click / Keyboard</span>
      <a class="pill" href="idea.html">Idea →</a>
    </div>

    <div class="row">
      <button id="unlock" class="primary">Enable Sound</button>
      <button id="mute">Mute</button>
      <label class="pill">Gain <input id="gain" type="range" min="0" max="1.4" step="0.01" value="0.9"></label>
      <label class="pill">Decay <input id="decay" type="range" min="0.2" max="4" step="0.05" value="1.6"></label>
      <label class="pill">Damping <input id="damp" type="range" min="200" max="12000" step="50" value="8500"></label>
    </div>

    <div id="grid" class="grid" aria-label="Gamelan keys"></div>
    <div id="status" class="status">Tap “Enable Sound” once to unlock audio on your device.</div>
  </main>

  <script type="module" src="./main.js"></script>

  <footer>
    <p>© 2025 • Built for learning • Optimized for minimal strike latency</p>
  </footer>
</body>
</html>
